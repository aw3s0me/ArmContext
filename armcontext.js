(function(){var c=function(){};c.prototype={types:"String Number Array Function Date Object RegExp Bool".split(" "),About:{},Modules:{},Plugins:{}};window.gizmo=new c})();
(function(c){c.isSet=function(b){return void 0!=b&&null!=b?!0:!1};c.itIs=function(b,a){if(c.isSet(b)){var g=Object.prototype.toString.call(b).slice(8,-1);return null!==b&&g==a}return!1};c.type=function(b){return{}.toString.call(b).slice(8,-1)};c.clone=function a(g){if("Array"!==c.type(g)&&"Object"!==c.type(g))return g;var h=new g.constructor;for(i in g)g[i]&&g.hasOwnProperty(i)&&(h[i]=c.itIs(g[i],"Object")?a(g[i]):g[i]&&c.itIs(g[i],"Array")?[].concat(g[i]):g[i]);return h};c.Modules.baseVariableFunction=
{name:"Type",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"\u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u044b\u0445 \u043d\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0435, \u0443\u0442\u0438\u043d\u043d\u043e\u0439 \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0442.\u0434. "}})(gizmo);
(function(c){c.Filter=function(b,a){var g;if(g=c.isSet(b))if(g=!0===c.itIs(b,a))if(!0===c.itIs(a,"String")){g=!0;for(var h in c._types)if(a===c._types[h]){g=!1;break}}else throw TypeError(c.type(a)+" <- it's not name of type");if(g)return b;throw TypeError(c.type(b)+" != "+a);};c.Modules.Filters={name:"Filters",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:'\u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f "\u0444\u0438\u043b\u044c\u0442\u0440\u0430" \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0445 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0435\u0451 \u0442\u0438\u043f\u0443'}})(gizmo);
(function(c){c.isTString=function(b){return c.itIs(b,"String")};c.isTNumber=function(b){return c.itIs(b,"Number")};c.isTBool=function(b){return c.itIs(b,"Boolean")};c.isTArray=function(b){return c.itIs(b,"Array")};c.isTFunc=function(b){return c.itIs(b,"Function")};c.isTDate=function(b){return c.itIs(b,"Date")};c.isTRegExp=function(b){return c.itIs(b,"RegExp")};c.isTObject=function(b){return c.itIs(b,"Object")};c.Modules.Checks={name:"Checks",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",
description:"\u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0442\u0438\u043f\u0430, \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0438\u043f\u0430"}})(gizmo);
(function(c){c.Class=function(b,a){var g=b.Initialize||function(){};if(b.Extend){var h=b.Extend,e=function(a){var e=h.prototype,f;for(f in e)switch(c.type(e[f])){case "Array":this[f]=[].concat(e[f]);break;case "Object":this[f]=c.clone(e[f])}var e=b.Statics||{},d;for(d in e)switch(c.type(e[d])){case "Array":this[d]=[].concat(e[d]);break;case "Object":this[d]=c.clone(e[d])}d=b.Methods||{};for(var k in d)e=d.__lookupGetter__(k),f=d.__lookupSetter__(k),e||f?(e&&this.__defineGetter__(k,e),f&&this.__defineSetter__(k,
f)):this[k]=d[k];g.call(this,a||{})},f=function(){};f.prototype=h.prototype;e.prototype=new f;e.prototype.constructor=e;for(var d in h)if("prototype"!=d){var f=h.__lookupGetter__(d),k=h.__lookupSetter__(d);f||k?(f&&e.__defineGetter__(d,f),k&&e.__defineSetter__(d,k)):e[d]=h[d]}}else e=function(a){var h=b.Statics||{},e;for(e in h)switch(c.type(h[e])){case "Array":this[e]=[].concat(h[e]);break;case "Object":this[e]=c.clone(h[e])}var h=b.Methods||{},f;for(f in h){e=h.__lookupGetter__(f);var d=h.__lookupSetter__(f);
e||d?(e&&this.__defineGetter__(f,e),d&&this.__defineSetter__(f,d)):this[f]=h[f]}g.call(this,a||{})};var l=b.Methods||{};for(d in l)f=l.__lookupGetter__(d),k=l.__lookupSetter__(d),f||k?(f&&e.prototype.__defineGetter__(d,f),k&&e.prototype.__defineSetter__(d,k)):e.prototype[d]=l[d];var m=b.Statics||{};if(c.isSet(a)&&c.isSet(a.checkingMode)&&a.checkingMode)for(d in m)e.prototype["_"+d]=m[d],f=function(){var a="_"+d,b=m[d];return function(){return c.Filter(this[a],c.type(b))}}(d),k=function(){var a="_"+
d,b=m[d];return function(g){this[a]=c.Filter(g,c.type(b))}}(d),e.prototype.__defineGetter__(d,f),e.prototype.__defineSetter__(d,k);else for(d in m)switch(c.type(m[d])){case "Array":e.prototype[d]=[].concat(m[d]);break;case "Object":e.prototype[d]=c.clone(m[d]);break;default:e.prototype[d]=m[d]}return e};c.Modules.Class={name:"Class",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"\u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u043a\u043b\u0430\u0441\u0441\u044b"}})(gizmo);
(function(c){c.nativeSort=function(b){var a=b.mas?b.mas:[],c=b.target?b.target:">";b.field?">"==c?a.sort(function(a,c){var g=a[b.field],d=c[b.field];return g>d?-1:g<d?1:0}):a.sort(function(a,c){var g=a[b.field],d=c[b.field];return g<d?-1:g>d?1:0}):">"==c?a.sort(function(a,b){return a>b?-1:a<b?1:0}):a.sort(function(a,b){return a<b?-1:a>b?1:0});return a};c.Modules.Sorts={name:"Sorts",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"\u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0438\u0445 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438"}})(gizmo);
(function(c){c.Math={};c.Math.Sgn=function(b){return 0<b?1:0>b?-1:0};c.Modules.Math={name:"Math",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"\u041c\u043e\u0434\u0443\u043b\u044c \u0441 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438"}})(gizmo);
(function(c){var b=c.Class({Initialize:function(a){return this.setElements(a)},Statics:{},Methods:{create:function(a){return new c.Math.Matrix(a)},canMultiplyFromLeft:function(a){if(0===this.elements.length)return!1;a=a.elements||a;"undefined"===typeof a[0][0]&&(a=this.Matrix.create(a).elements);return this.elements[0].length===a.length},map:function(a){var b=[],c=this.elements.length,e=c,f,d,k=this.elements[0].length,l;do{f=e-c;d=k;b[f]=[];do l=k-d,b[f][l]=a(this.elements[f][l],f+1,l+1);while(--d)}while(--c);
return this.create(b)},multiply:function(a){if(0===this.elements.length)return null;if(!a.elements)return this.map(function(b){return b*a});var b=a.modulus?!0:!1,c=a.elements||a;"undefined"===typeof c[0][0]&&(c=this.create(c).elements);if(!this.canMultiplyFromLeft(c))return null;for(var e=this.elements.length,f=c[0].length,d,k=this.elements[0].length,l,m=[],n;e--;){d=f;for(m[e]=[];d--;){l=k;for(n=0;l--;)n+=this.elements[e][l]*c[l][d];m[e][d]=n}}c=this.create(m);return b?c.col(1):c},x:function(a){return this.multiply(a)},
setElements:function(a){var b,c=a.elements||a;if(c[0]&&"undefined"!==typeof c[0][0]){a=c.length;for(this.elements=[];a--;){b=c[a].length;for(this.elements[a]=[];b--;)this.elements[a][b]=c[a][b]}return this}b=c.length;this.elements=[];for(a=0;a<b;a++)this.elements.push([c[a]]);return this},isSquare:function(){return this.elements.length==this.elements[0].length},toRightTriangular:function(){var a=this.dup(),b,c=this.elements.length,e=c,f,d,k=this.elements[0].length,l;do{f=e-c;if(0==a.elements[f][f])for(j=
f+1;j<e;j++)if(0!=a.elements[j][f]){b=[];d=k;do l=k-d,b.push(a.elements[f][l]+a.elements[j][l]);while(--d);a.elements[f]=b;break}if(0!=a.elements[f][f])for(j=f+1;j<e;j++){var m=a.elements[j][f]/a.elements[f][f];b=[];d=k;do l=k-d,b.push(l<=f?0:a.elements[j][l]-a.elements[f][l]*m);while(--d);a.elements[j]=b}}while(--c);return a},determinant:function(){if(!this.isSquare())return null;var a=this.toRightTriangular(),b=a.elements[0][0],c=a.elements.length-1,e=c,f;do f=e-c+1,b*=a.elements[f][f];while(--c);
return b},det:function(){return this.determinant()},dup:function(){return this.create(this.elements)},transpose:function(){var a=this.elements.length,b=this.elements[0].length,c=[],e=b,f,d,k;do{f=b-e;c[f]=[];d=a;do k=a-d,c[f][k]=this.elements[k][f];while(--d)}while(--e);return this.create(c)}}});c.Math.Matrix=b;c.Modules.Matrix={name:"Matrix",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"\u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043c\u0430\u0442\u0440\u0438\u0446\u0430\u043c\u0438. \u0421\u043e\u0437\u0434\u0430\u043d \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 http://sylvester.jcoglan.com."}})(gizmo);
(function(c){var b=function(a,b){this._x=a;this._y=b};b.prototype={_x:0,_y:0,Minus:function(a){return new c.Math.Point2D(this.x-a.x,this.y-a.y)},set x(a){this._x=a},get x(){return this._x},set y(a){this._y=a},get y(){return this._y}};c.Math.Point2D=b;c.Modules.Point2D={name:"Point2D",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"2D-\u0442\u043e\u0447\u043a\u0430"}})(gizmo);
(function(c){var b=function(a,b){this._x=a;this._y=b};b.prototype={_x:0,_y:0,X:function(a){return this.x*a.x+this.y*a.y},Module:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Angle:function(a){var b=(new c.Math.Matrix([[this.x,this.y],[a.x,a.y]])).determinant();return 0==this.Module()*a.Module()?0:0!=b?c.Math.Sgn(b)*Math.acos(a.X(this)/(this.Module()*a.Module())):Math.acos(a.X(this)/(this.Module()*a.Module()))},set x(a){this._x=a},get x(){return this._x},set y(a){this._y=a},get y(){return this._y}};
c.Math.Vector2D=b;c.Modules.Vector2D={name:"Vector2D",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"2D-\u0432\u0435\u043a\u0442\u043e\u0440"}})(gizmo);
(function(c){var b=c.Class({Initialize:function(a){if(c.isTArray(a))for(var b in a)this.AddPoint(a[b]);else throw Error("Argument are not array!");},Statics:{_points:[]},Methods:{AddPoint:function(a){this._points.push(a);return this},HasPoint:function(a){var b=[],h=this._points,e;for(e in h)b.push(new c.Math.Vector2D(h[e].x-a.x,h[e].y-a.y));for(e=a=0;e<b.length-1;e++)a+=b[e].Angle(b[e+1]);a+=b[b.length-1].Angle(b[0]);return 0.01>a-2*Math.PI&&-0.01<a-2*Math.PI?!0:!1},GetPointByIndex:function(a){if(c.isTNumber(a)&&
0<=a)return this._points[a];throw Error("index must be poistive integer!");}}});c.Math.Polygone=b;c.Modules.polygone={name:"polygone",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"\u041f\u043e\u043b\u0438\u0433\u043e\u043d \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u0435\u043a\u0442\u043e\u0440\u0430\u043c\u0438"}})(gizmo);
(function(c){var b=c.Class({construct:function(a){this.action=a.action;this.formId=a.id;this.onSubmit=a.onSubmit;this.onComplete=a.onComplete;this.createIframe();this.createForm()},vars:{formId:"",form:{},iframe:{},onSubmit:function(){},onComplete:function(){}},methods:{createForm:function(){var a=document.getElementById(this.formId);a.action=this.action;a.target=this.iframeName;a.enctype="multipart/form-data";a.method="POST";this.form=a},createIframe:function(){this.iframeName="rFrame";var a=document.createElement("iframe");
a.name="rFrame";a.style.display="none";document.getElementsByTagName("body")[0].appendChild(a);this.iframe=a},send:function(){return!1!==this.onSubmit()?(this.form.submit(),!0):!1}}});c.Plugins.iframeAJAX={name:"iframeAJAX",version:0.1,author:"Alexander Lizin aka Sogimu",email:"sogimu@nxt.ru",description:"\u041f\u043b\u0430\u0433\u0438\u043d \u0434\u043b\u044f AJAX \u043d\u0430 iframe"};c.iframeAjax=b})(gizmo);eval(function(c,b,a,g,h,e){h=function(a){return(a<b?"":h(parseInt(a/b)))+(35<(a%=b)?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){for(;a--;)e[h(a)]=g[a]||h(a);g=[function(a){return e[a]}];h=function(){return"\\w+"};a=1}for(;a--;)g[a]&&(c=c.replace(RegExp("\\b"+h(a)+"\\b","g"),g[a]));return c}("9 17={3i:'0.1.3',16:1e-6};l v(){}v.23={e:l(i){8(i<1||i>7.4.q)?w:7.4[i-1]},2R:l(){8 7.4.q},1u:l(){8 F.1x(7.2u(7))},24:l(a){9 n=7.4.q;9 V=a.4||a;o(n!=V.q){8 1L}J{o(F.13(7.4[n-1]-V[n-1])>17.16){8 1L}}H(--n);8 2x},1q:l(){8 v.u(7.4)},1b:l(a){9 b=[];7.28(l(x,i){b.19(a(x,i))});8 v.u(b)},28:l(a){9 n=7.4.q,k=n,i;J{i=k-n;a(7.4[i],i+1)}H(--n)},2q:l(){9 r=7.1u();o(r===0){8 7.1q()}8 7.1b(l(x){8 x/r})},1C:l(a){9 V=a.4||a;9 n=7.4.q,k=n,i;o(n!=V.q){8 w}9 b=0,1D=0,1F=0;7.28(l(x,i){b+=x*V[i-1];1D+=x*x;1F+=V[i-1]*V[i-1]});1D=F.1x(1D);1F=F.1x(1F);o(1D*1F===0){8 w}9 c=b/(1D*1F);o(c<-1){c=-1}o(c>1){c=1}8 F.37(c)},1m:l(a){9 b=7.1C(a);8(b===w)?w:(b<=17.16)},34:l(a){9 b=7.1C(a);8(b===w)?w:(F.13(b-F.1A)<=17.16)},2k:l(a){9 b=7.2u(a);8(b===w)?w:(F.13(b)<=17.16)},2j:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x+V[i-1]})},2C:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x-V[i-1]})},22:l(k){8 7.1b(l(x){8 x*k})},x:l(k){8 7.22(k)},2u:l(a){9 V=a.4||a;9 i,2g=0,n=7.4.q;o(n!=V.q){8 w}J{2g+=7.4[n-1]*V[n-1]}H(--n);8 2g},2f:l(a){9 B=a.4||a;o(7.4.q!=3||B.q!=3){8 w}9 A=7.4;8 v.u([(A[1]*B[2])-(A[2]*B[1]),(A[2]*B[0])-(A[0]*B[2]),(A[0]*B[1])-(A[1]*B[0])])},2A:l(){9 m=0,n=7.4.q,k=n,i;J{i=k-n;o(F.13(7.4[i])>F.13(m)){m=7.4[i]}}H(--n);8 m},2Z:l(x){9 a=w,n=7.4.q,k=n,i;J{i=k-n;o(a===w&&7.4[i]==x){a=i+1}}H(--n);8 a},3g:l(){8 S.2X(7.4)},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(y){8(F.13(y-x)<=17.16)?x:y})},1o:l(a){o(a.K){8 a.1o(7)}9 V=a.4||a;o(V.q!=7.4.q){8 w}9 b=0,2b;7.28(l(x,i){2b=x-V[i-1];b+=2b*2b});8 F.1x(b)},3a:l(a){8 a.1h(7)},2T:l(a){8 a.1h(7)},1V:l(t,a){9 V,R,x,y,z;2S(7.4.q){27 2:V=a.4||a;o(V.q!=2){8 w}R=S.1R(t).4;x=7.4[0]-V[0];y=7.4[1]-V[1];8 v.u([V[0]+R[0][0]*x+R[0][1]*y,V[1]+R[1][0]*x+R[1][1]*y]);1I;27 3:o(!a.U){8 w}9 C=a.1r(7).4;R=S.1R(t,a.U).4;x=7.4[0]-C[0];y=7.4[1]-C[1];z=7.4[2]-C[2];8 v.u([C[0]+R[0][0]*x+R[0][1]*y+R[0][2]*z,C[1]+R[1][0]*x+R[1][1]*y+R[1][2]*z,C[2]+R[2][0]*x+R[2][1]*y+R[2][2]*z]);1I;2P:8 w}},1t:l(a){o(a.K){9 P=7.4.2O();9 C=a.1r(P).4;8 v.u([C[0]+(C[0]-P[0]),C[1]+(C[1]-P[1]),C[2]+(C[2]-(P[2]||0))])}1d{9 Q=a.4||a;o(7.4.q!=Q.q){8 w}8 7.1b(l(x,i){8 Q[i-1]+(Q[i-1]-x)})}},1N:l(){9 V=7.1q();2S(V.4.q){27 3:1I;27 2:V.4.19(0);1I;2P:8 w}8 V},2n:l(){8'['+7.4.2K(', ')+']'},26:l(a){7.4=(a.4||a).2O();8 7}};v.u=l(a){9 V=25 v();8 V.26(a)};v.i=v.u([1,0,0]);v.j=v.u([0,1,0]);v.k=v.u([0,0,1]);v.2J=l(n){9 a=[];J{a.19(F.2F())}H(--n);8 v.u(a)};v.1j=l(n){9 a=[];J{a.19(0)}H(--n);8 v.u(a)};l S(){}S.23={e:l(i,j){o(i<1||i>7.4.q||j<1||j>7.4[0].q){8 w}8 7.4[i-1][j-1]},33:l(i){o(i>7.4.q){8 w}8 v.u(7.4[i-1])},2E:l(j){o(j>7.4[0].q){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][j-1])}H(--n);8 v.u(a)},2R:l(){8{2D:7.4.q,1p:7.4[0].q}},2D:l(){8 7.4.q},1p:l(){8 7.4[0].q},24:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(7.4.q!=M.q||7.4[0].q!=M[0].q){8 1L}9 b=7.4.q,15=b,i,G,10=7.4[0].q,j;J{i=15-b;G=10;J{j=10-G;o(F.13(7.4[i][j]-M[i][j])>17.16){8 1L}}H(--G)}H(--b);8 2x},1q:l(){8 S.u(7.4)},1b:l(a){9 b=[],12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;b[i]=[];J{j=10-G;b[i][j]=a(7.4[i][j],i+1,j+1)}H(--G)}H(--12);8 S.u(b)},2i:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}8(7.4.q==M.q&&7.4[0].q==M[0].q)},2j:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x+M[i-1][j-1]})},2C:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x-M[i-1][j-1]})},2B:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}8(7.4[0].q==M.q)},22:l(a){o(!a.4){8 7.1b(l(x){8 x*a})}9 b=a.1u?2x:1L;9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}o(!7.2B(M)){8 w}9 d=7.4.q,15=d,i,G,10=M[0].q,j;9 e=7.4[0].q,4=[],21,20,c;J{i=15-d;4[i]=[];G=10;J{j=10-G;21=0;20=e;J{c=e-20;21+=7.4[i][c]*M[c][j]}H(--20);4[i][j]=21}H(--G)}H(--d);9 M=S.u(4);8 b?M.2E(1):M},x:l(a){8 7.22(a)},32:l(a,b,c,d){9 e=[],12=c,i,G,j;9 f=7.4.q,1p=7.4[0].q;J{i=c-12;e[i]=[];G=d;J{j=d-G;e[i][j]=7.4[(a+i-1)%f][(b+j-1)%1p]}H(--G)}H(--12);8 S.u(e)},31:l(){9 a=7.4.q,1p=7.4[0].q;9 b=[],12=1p,i,G,j;J{i=1p-12;b[i]=[];G=a;J{j=a-G;b[i][j]=7.4[j][i]}H(--G)}H(--12);8 S.u(b)},1y:l(){8(7.4.q==7.4[0].q)},2A:l(){9 m=0,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(F.13(7.4[i][j])>F.13(m)){m=7.4[i][j]}}H(--G)}H(--12);8 m},2Z:l(x){9 a=w,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(7.4[i][j]==x){8{i:i+1,j:j+1}}}H(--G)}H(--12);8 w},30:l(){o(!7.1y){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][i])}H(--n);8 v.u(a)},1K:l(){9 M=7.1q(),1c;9 n=7.4.q,k=n,i,1s,1n=7.4[0].q,p;J{i=k-n;o(M.4[i][i]==0){2e(j=i+1;j<k;j++){o(M.4[j][i]!=0){1c=[];1s=1n;J{p=1n-1s;1c.19(M.4[i][p]+M.4[j][p])}H(--1s);M.4[i]=1c;1I}}}o(M.4[i][i]!=0){2e(j=i+1;j<k;j++){9 a=M.4[j][i]/M.4[i][i];1c=[];1s=1n;J{p=1n-1s;1c.19(p<=i?0:M.4[j][p]-M.4[i][p]*a)}H(--1s);M.4[j]=1c}}}H(--n);8 M},3h:l(){8 7.1K()},2z:l(){o(!7.1y()){8 w}9 M=7.1K();9 a=M.4[0][0],n=M.4.q-1,k=n,i;J{i=k-n+1;a=a*M.4[i][i]}H(--n);8 a},3f:l(){8 7.2z()},2y:l(){8(7.1y()&&7.2z()===0)},2Y:l(){o(!7.1y()){8 w}9 a=7.4[0][0],n=7.4.q-1,k=n,i;J{i=k-n+1;a+=7.4[i][i]}H(--n);8 a},3e:l(){8 7.2Y()},1Y:l(){9 M=7.1K(),1Y=0;9 a=7.4.q,15=a,i,G,10=7.4[0].q,j;J{i=15-a;G=10;J{j=10-G;o(F.13(M.4[i][j])>17.16){1Y++;1I}}H(--G)}H(--a);8 1Y},3d:l(){8 7.1Y()},2W:l(a){9 M=a.4||a;o(1g(M[0][0])=='1f'){M=S.u(M).4}9 T=7.1q(),1p=T.4[0].q;9 b=T.4.q,15=b,i,G,10=M[0].q,j;o(b!=M.q){8 w}J{i=15-b;G=10;J{j=10-G;T.4[i][1p+j]=M[i][j]}H(--G)}H(--b);8 T},2w:l(){o(!7.1y()||7.2y()){8 w}9 a=7.4.q,15=a,i,j;9 M=7.2W(S.I(a)).1K();9 b,1n=M.4[0].q,p,1c,2v;9 c=[],2c;J{i=a-1;1c=[];b=1n;c[i]=[];2v=M.4[i][i];J{p=1n-b;2c=M.4[i][p]/2v;1c.19(2c);o(p>=15){c[i].19(2c)}}H(--b);M.4[i]=1c;2e(j=0;j<i;j++){1c=[];b=1n;J{p=1n-b;1c.19(M.4[j][p]-M.4[i][p]*M.4[j][i])}H(--b);M.4[j]=1c}}H(--a);8 S.u(c)},3c:l(){8 7.2w()},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(p){8(F.13(p-x)<=17.16)?x:p})},2n:l(){9 a=[];9 n=7.4.q,k=n,i;J{i=k-n;a.19(v.u(7.4[i]).2n())}H(--n);8 a.2K('\\n')},26:l(a){9 i,4=a.4||a;o(1g(4[0][0])!='1f'){9 b=4.q,15=b,G,10,j;7.4=[];J{i=15-b;G=4[i].q;10=G;7.4[i]=[];J{j=10-G;7.4[i][j]=4[i][j]}H(--G)}H(--b);8 7}9 n=4.q,k=n;7.4=[];J{i=k-n;7.4.19([4[i]])}H(--n);8 7}};S.u=l(a){9 M=25 S();8 M.26(a)};S.I=l(n){9 a=[],k=n,i,G,j;J{i=k-n;a[i]=[];G=k;J{j=k-G;a[i][j]=(i==j)?1:0}H(--G)}H(--n);8 S.u(a)};S.2X=l(a){9 n=a.q,k=n,i;9 M=S.I(n);J{i=k-n;M.4[i][i]=a[i]}H(--n);8 M};S.1R=l(b,a){o(!a){8 S.u([[F.1H(b),-F.1G(b)],[F.1G(b),F.1H(b)]])}9 d=a.1q();o(d.4.q!=3){8 w}9 e=d.1u();9 x=d.4[0]/e,y=d.4[1]/e,z=d.4[2]/e;9 s=F.1G(b),c=F.1H(b),t=1-c;8 S.u([[t*x*x+c,t*x*y-s*z,t*x*z+s*y],[t*x*y+s*z,t*y*y+c,t*y*z-s*x],[t*x*z-s*y,t*y*z+s*x,t*z*z+c]])};S.3b=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[1,0,0],[0,c,-s],[0,s,c]])};S.39=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,0,s],[0,1,0],[-s,0,c]])};S.38=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,-s,0],[s,c,0],[0,0,1]])};S.2J=l(n,m){8 S.1j(n,m).1b(l(){8 F.2F()})};S.1j=l(n,m){9 a=[],12=n,i,G,j;J{i=n-12;a[i]=[];G=m;J{j=m-G;a[i][j]=0}H(--G)}H(--12);8 S.u(a)};l 14(){}14.23={24:l(a){8(7.1m(a)&&7.1h(a.K))},1q:l(){8 14.u(7.K,7.U)},2U:l(a){9 V=a.4||a;8 14.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.U)},1m:l(a){o(a.W){8 a.1m(7)}9 b=7.U.1C(a.U);8(F.13(b)<=17.16||F.13(b-F.1A)<=17.16)},1o:l(a){o(a.W){8 a.1o(7)}o(a.U){o(7.1m(a)){8 7.1o(a.K)}9 N=7.U.2f(a.U).2q().4;9 A=7.K.4,B=a.K.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,D=7.U.4;9 b=P[0]-A[0],2a=P[1]-A[1],29=(P[2]||0)-A[2];9 c=F.1x(b*b+2a*2a+29*29);o(c===0)8 0;9 d=(b*D[0]+2a*D[1]+29*D[2])/c;9 e=1-d*d;8 F.13(c*F.1x(e<0?0:e))}},1h:l(a){9 b=7.1o(a);8(b!==w&&b<=17.16)},2T:l(a){8 a.1h(7)},1v:l(a){o(a.W){8 a.1v(7)}8(!7.1m(a)&&7.1o(a)<=17.16)},1U:l(a){o(a.W){8 a.1U(7)}o(!7.1v(a)){8 w}9 P=7.K.4,X=7.U.4,Q=a.K.4,Y=a.U.4;9 b=X[0],1z=X[1],1B=X[2],1T=Y[0],1S=Y[1],1M=Y[2];9 c=P[0]-Q[0],2s=P[1]-Q[1],2r=P[2]-Q[2];9 d=-b*c-1z*2s-1B*2r;9 e=1T*c+1S*2s+1M*2r;9 f=b*b+1z*1z+1B*1B;9 g=1T*1T+1S*1S+1M*1M;9 h=b*1T+1z*1S+1B*1M;9 k=(d*g/f+h*e)/(g-h*h);8 v.u([P[0]+k*b,P[1]+k*1z,P[2]+k*1B])},1r:l(a){o(a.U){o(7.1v(a)){8 7.1U(a)}o(7.1m(a)){8 w}9 D=7.U.4,E=a.U.4;9 b=D[0],1l=D[1],1k=D[2],1P=E[0],1O=E[1],1Q=E[2];9 x=(1k*1P-b*1Q),y=(b*1O-1l*1P),z=(1l*1Q-1k*1O);9 N=v.u([x*1Q-y*1O,y*1P-z*1Q,z*1O-x*1P]);9 P=11.u(a.K,N);8 P.1U(7)}1d{9 P=a.4||a;o(7.1h(P)){8 v.u(P)}9 A=7.K.4,D=7.U.4;9 b=D[0],1l=D[1],1k=D[2],1w=A[0],18=A[1],1a=A[2];9 x=b*(P[1]-18)-1l*(P[0]-1w),y=1l*((P[2]||0)-1a)-1k*(P[1]-18),z=1k*(P[0]-1w)-b*((P[2]||0)-1a);9 V=v.u([1l*x-1k*z,1k*y-b*x,b*z-1l*y]);9 k=7.1o(P)/V.1u();8 v.u([P[0]+V.4[0]*k,P[1]+V.4[1]*k,(P[2]||0)+V.4[2]*k])}},1V:l(t,a){o(1g(a.U)=='1f'){a=14.u(a.1N(),v.k)}9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,D=7.U.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 14.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*D[0]+R[0][1]*D[1]+R[0][2]*D[2],R[1][0]*D[0]+R[1][1]*D[1]+R[1][2]*D[2],R[2][0]*D[0]+R[2][1]*D[1]+R[2][2]*D[2]])},1t:l(a){o(a.W){9 A=7.K.4,D=7.U.4;9 b=A[0],18=A[1],1a=A[2],2N=D[0],1l=D[1],1k=D[2];9 c=7.K.1t(a).4;9 d=b+2N,2h=18+1l,2o=1a+1k;9 Q=a.1r([d,2h,2o]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2h)-c[1],Q[2]+(Q[2]-2o)-c[2]];8 14.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 14.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.U)}},1Z:l(a,b){a=v.u(a);b=v.u(b);o(a.4.q==2){a.4.19(0)}o(b.4.q==2){b.4.19(0)}o(a.4.q>3||b.4.q>3){8 w}9 c=b.1u();o(c===0){8 w}7.K=a;7.U=v.u([b.4[0]/c,b.4[1]/c,b.4[2]/c]);8 7}};14.u=l(a,b){9 L=25 14();8 L.1Z(a,b)};14.X=14.u(v.1j(3),v.i);14.Y=14.u(v.1j(3),v.j);14.Z=14.u(v.1j(3),v.k);l 11(){}11.23={24:l(a){8(7.1h(a.K)&&7.1m(a))},1q:l(){8 11.u(7.K,7.W)},2U:l(a){9 V=a.4||a;8 11.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.W)},1m:l(a){9 b;o(a.W){b=7.W.1C(a.W);8(F.13(b)<=17.16||F.13(F.1A-b)<=17.16)}1d o(a.U){8 7.W.2k(a.U)}8 w},2k:l(a){9 b=7.W.1C(a.W);8(F.13(F.1A/2-b)<=17.16)},1o:l(a){o(7.1v(a)||7.1h(a)){8 0}o(a.K){9 A=7.K.4,B=a.K.4,N=7.W.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;8 F.13((A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2])}},1h:l(a){o(a.W){8 w}o(a.U){8(7.1h(a.K)&&7.1h(a.K.2j(a.U)))}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=F.13(N[0]*(A[0]-P[0])+N[1]*(A[1]-P[1])+N[2]*(A[2]-(P[2]||0)));8(b<=17.16)}},1v:l(a){o(1g(a.U)=='1f'&&1g(a.W)=='1f'){8 w}8!7.1m(a)},1U:l(a){o(!7.1v(a)){8 w}o(a.U){9 A=a.K.4,D=a.U.4,P=7.K.4,N=7.W.4;9 b=(N[0]*(P[0]-A[0])+N[1]*(P[1]-A[1])+N[2]*(P[2]-A[2]))/(N[0]*D[0]+N[1]*D[1]+N[2]*D[2]);8 v.u([A[0]+D[0]*b,A[1]+D[1]*b,A[2]+D[2]*b])}1d o(a.W){9 c=7.W.2f(a.W).2q();9 N=7.W.4,A=7.K.4,O=a.W.4,B=a.K.4;9 d=S.1j(2,2),i=0;H(d.2y()){i++;d=S.u([[N[i%3],N[(i+1)%3]],[O[i%3],O[(i+1)%3]]])}9 e=d.2w().4;9 x=N[0]*A[0]+N[1]*A[1]+N[2]*A[2];9 y=O[0]*B[0]+O[1]*B[1]+O[2]*B[2];9 f=[e[0][0]*x+e[0][1]*y,e[1][0]*x+e[1][1]*y];9 g=[];2e(9 j=1;j<=3;j++){g.19((i==j)?0:f[(j+(5-i)%3)%3])}8 14.u(g,c)}},1r:l(a){9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=(A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2];8 v.u([P[0]+N[0]*b,P[1]+N[1]*b,(P[2]||0)+N[2]*b])},1V:l(t,a){9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,N=7.W.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 11.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*N[0]+R[0][1]*N[1]+R[0][2]*N[2],R[1][0]*N[0]+R[1][1]*N[1]+R[1][2]*N[2],R[2][0]*N[0]+R[2][1]*N[1]+R[2][2]*N[2]])},1t:l(a){o(a.W){9 A=7.K.4,N=7.W.4;9 b=A[0],18=A[1],1a=A[2],2M=N[0],2L=N[1],2Q=N[2];9 c=7.K.1t(a).4;9 d=b+2M,2p=18+2L,2m=1a+2Q;9 Q=a.1r([d,2p,2m]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2p)-c[1],Q[2]+(Q[2]-2m)-c[2]];8 11.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 11.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.W)}},1Z:l(a,b,c){a=v.u(a);a=a.1N();o(a===w){8 w}b=v.u(b);b=b.1N();o(b===w){8 w}o(1g(c)=='1f'){c=w}1d{c=v.u(c);c=c.1N();o(c===w){8 w}}9 d=a.4[0],18=a.4[1],1a=a.4[2];9 e=b.4[0],1W=b.4[1],1X=b.4[2];9 f,1i;o(c!==w){9 g=c.4[0],2l=c.4[1],2t=c.4[2];f=v.u([(1W-18)*(2t-1a)-(1X-1a)*(2l-18),(1X-1a)*(g-d)-(e-d)*(2t-1a),(e-d)*(2l-18)-(1W-18)*(g-d)]);1i=f.1u();o(1i===0){8 w}f=v.u([f.4[0]/1i,f.4[1]/1i,f.4[2]/1i])}1d{1i=F.1x(e*e+1W*1W+1X*1X);o(1i===0){8 w}f=v.u([b.4[0]/1i,b.4[1]/1i,b.4[2]/1i])}7.K=a;7.W=f;8 7}};11.u=l(a,b,c){9 P=25 11();8 P.1Z(a,b,c)};11.2I=11.u(v.1j(3),v.k);11.2H=11.u(v.1j(3),v.i);11.2G=11.u(v.1j(3),v.j);11.36=11.2I;11.35=11.2H;11.3j=11.2G;9 $V=v.u;9 $M=S.u;9 $L=14.u;9 $P=11.u;",
62,206,"    elements   this return var            function   if  length    create Vector null         Math nj while  do anchor        Matrix  direction  normal    kj Plane ni abs Line ki precision Sylvester A2 push A3 map els else  undefined typeof contains mod Zero D3 D2 isParallelTo kp distanceFrom cols dup pointClosestTo np reflectionIn modulus intersects A1 sqrt isSquare X2 PI X3 angleFrom mod1 C2 mod2 sin cos break C3 toRightTriangular false Y3 to3D E2 E1 E3 Rotation Y2 Y1 intersectionWith rotate v12 v13 rank setVectors nc sum multiply prototype eql new setElements case each PA3 PA2 part new_element round for cross product AD2 isSameSizeAs add isPerpendicularTo v22 AN3 inspect AD3 AN2 toUnitVector PsubQ3 PsubQ2 v23 dot divisor inverse true isSingular determinant max canMultiplyFromLeft subtract rows col random ZX YZ XY Random join N2 N1 D1 slice default N3 dimensions switch liesIn translate snapTo augment Diagonal trace indexOf diagonal transpose minor row isAntiparallelTo ZY YX acos RotationZ RotationY liesOn RotationX inv rk tr det toDiagonalMatrix toUpperTriangular version XZ".split(" "),
0,{}));(function(c){c.ArmContext={_lastUnicalNumber:0,GetNewUnicalNumber:function(){return this._lastUnicalNumber+=1}}})(window);(function(){ArmContext.InternalRepresentation=function(c){gizmo.Filter(c,"Object");c={};c._points=new $M([[0,0,1]]);c.GetPoints=function(){return this._points.elements};c.ShowPoints=function(b){var a=this.GetPoints();b.save();b.beginPath();for(var c in a)b.moveTo(a[c][0],a[c][1]),b.arc(a[c][0],a[c][1],3,0,2*Math.PI,!1);b.closePath();CTX.fillStyle="#ff0000";b.stroke();b.fill();b.restore();return this};c.ShowDebugInfo=function(){var b=this.GetPoints();console.log("Points of internal representation");
for(var a in b)console.log(b[a])};return c}})();(function(){ArmContext.GlobalRepresentation=function(){var c={};c._points=new $M([[0,0,1]]);c._polygone=new gizmo.Math.Polygone(c._points.elements);c.GetPoints=function(){return this._points.elements};c.SetPoints=function(b){gizmo.Filter(b,"Array");this._points.elements=b};c.GetMatrixOfPoints=function(){return this._points};c.SetMatrixOfPoints=function(b){gizmo.Filter(b,"Object");return this._points=b};c.Set=function(b,a,c){gizmo.Filter(b,"Object");gizmo.Filter(a,"Object");gizmo.Filter(c,"Object");
this.SetPoints(b.GetPoints());this.SetMatrixOfPoints(this.GetMatrixOfPoints().x(c.GetMatrix()));arrVectors=[];var b=this.GetPoints(),h;for(h in b)arrVectors.push(new gizmo.Math.Vector2D(b[h][0],b[h][1]));this._polygone=new gizmo.Math.Polygone(arrVectors);return this};c.HasPoint=function(b,a){gizmo.Filter(b,"Number");gizmo.Filter(a,"Number");return this._polygone.HasPoint({x:b,y:a})};c.ShowDebugInfo=function(){var b=this.GetPoints();console.log("Points of global representation");for(var a in b)console.log(b[a])};
c.ShowPoints=function(){var b=this.GetPoints(),a;for(a in b)CTX.save(),CTX.beginPath(),CTX.fillStyle="#00ff00",CTX.rect(b[a][0]-2,b[a][1]-2,4,4),CTX.stroke(),CTX.fill(),CTX.closePath(),CTX.restore()};return c}})();(function(){ArmContext.C2dContextRepresentation=function(c){var b={_ctx:null,_layer:null,_globalAlpha:1,_shadowColor:"#aaffaa",_shadowOffsetX:1,_shadowOffsetY:1,_boundingBox:{},_pictureUnderPrimitive:{},Set:function(a){this._ctx=a.ctx||this._ctx;this._ctx=(this._layer=a.layer||this._layer)?this._layer.GetCtx():this._ctx;this._globalAlpha=a.globalAlpha||this._globalAlpha;this._shadowColor=a.shadowColor||this._shadowColor;this._shadowOffsetX=a.shadowOffsetX||this._shadowOffsetX;this._shadowOffsetY=
a.shadowOffsetY||this._shadowOffsetY},GetCtx:function(){return this._ctx},GetGlobalAlpha:function(){return this._globalAlpha},GetShadowColor:function(){return this._shadowColor},GetShadowBlur:function(){return this._shadowBlur},GetShadowOffsetX:function(){return this._shadowOffsetX},GetShadowOffsetY:function(){return this._shadowOffsetY},GetLineCap:function(){return this._lineCap},GetLineDash:function(){return this._lineDash},GetLineJoin:function(){return this._lineJoin},ShowDebugInfo:function(){console.log("VisualProperties:");
console.log("Method have not realisation")}};b.Set(c);return b}})();(function(){ArmContext.MvMatrix=function(){var c={};c._matrix=new $M([[1,0,0],[0,1,0],[0,0,1]]);c.Rotate=function(b){var a=Math.cos(b),b=Math.sin(b),a=new $M([[a,b,0],[-b,a,0],[0,0,1]]);this._matrix=this._matrix.x(a);return this};c.Scale=function(b,a){gizmo.Filter(b,"Number");gizmo.Filter(a,"Number");var c=new $M([[b,0,0],[0,a,0],[0,0,1]]);this._matrix=this._matrix.x(c);return this};c.Translate=function(b,a){gizmo.Filter(b,"Number");gizmo.Filter(a,"Number");var c=new $M([[1,0,0],[0,1,0],[b,a,1]]);
this._matrix=this._matrix.x(c);return this};c.Scos=function(b,a){gizmo.Filter(b,"Number");gizmo.Filter(a,"Number");var c=new $M([[1,a,0],[b,1,0],[0,0,1]]);this._matrix=this._matrix.x(c);return this};c.GetMatrix=function(){return this._matrix};c.GetTransformParams=function(){var b=this.GetMatrix();return{a:b.elements[0][0],b:b.elements[0][1],c:b.elements[1][0],d:b.elements[1][1],e:b.elements[2][0],f:b.elements[2][1]}};c.ShowDebugInfo=function(){var b=this.GetMatrix();console.log("mvMatrix:");console.log(b.elements[0]);
console.log(b.elements[1]);console.log(b.elements[2])};return c}})();(function(){ArmContext.Debug=function(c){gizmo.Filter(c,"Object");var b={};b.object=c;b.ShowDebugInfo=function(){console.log("<<Primitive>> DebugInfo");this.object._2dContextRepresentation.ShowDebugInfo();this.object._interalRepresentation.ShowDebugInfo();this.object._globalRepresentation.ShowDebugInfo();this.object._mvMatrix.ShowDebugInfo()};return b}})();(function(c){c.ArmContext.Primitie=function(){var b={_internalRepresentation:null,_2dContextRepresentation:null,_globalRepresentation:null};b._mvMatrix=ArmContext.MvMatrix();b._debug=ArmContext.Debug(b);b.TranslateTo=function(a){gizmo.Filter(a,"Object");gizmo.Filter(a.x,"Number");gizmo.Filter(a.y,"Number");var b=this._globalRepresentation.GetX(),c=this._globalRepresentation.GetY();this._mvMatrix.Translate(a.x-b,a.y-c);this._globalRepresentation.Set(this._internalRepresentation,this._2dContextRepresentation,
this._mvMatrix);return this};b.Translate=function(a){gizmo.Filter(a,"Object");gizmo.Filter(a.x,"Number");gizmo.Filter(a.y,"Number");this._mvMatrix.Translate(a.x,a.y);this._globalRepresentation.Set(this._internalRepresentation,this._2dContextRepresentation,this._mvMatrix);return this};b.Rotate=function(a){gizmo.Filter(a.gradAngle||a.radAngle,"Number");gizmo.Filter(a.x,"Number");gizmo.Filter(a.y,"Number");var b=a.radAngle||(360<a.gradAngle?a.gradAngle%360:a.gradAngle)/180*Math.PI;this._mvMatrix.Translate(-a.x,
-a.y);this._mvMatrix.Rotate(b);this._mvMatrix.Translate(a.x,a.y);this._globalRepresentation.Set(this._internalRepresentation,this._2dContextRepresentation,this._mvMatrix);return this};b.Scale=function(a){gizmo.Filter(a,"Object");gizmo.Filter(a.x,"Number");gizmo.Filter(a.y,"Number");var b=this._globalRepresentation.GetX(),c=this._globalRepresentation.GetY(),b=b-b*a.x,c=c-c*a.y;this._mvMatrix.Scale(a.x,a.y);this._mvMatrix.Translate(b,c);this._globalRepresentation.Set(this._internalRepresentation,this._2dContextRepresentation,
this._mvMatrix);return this};b.Scos=function(a){gizmo.Filter(a,"Object");gizmo.Filter(a.x,"Number");gizmo.Filter(a.y,"Number");this._mvMatrix.Scos(a.x,a.y);this._globalRepresentation.Set(this._internalRepresentation,this._2dContextRepresentation,this._mvMatrix);return this};b.Draw=function(){console.log("Virtual method Draw");return this};b.Clear=function(){console.log("Virtual method Clear");return this};b.HasPoint=function(a){gizmo.Filter(a,"Object");gizmo.Filter(a.x,"Number");gizmo.Filter(a.y,
"Number");return this._globalRepresentation.HasPoint(a.x,a.y)};b.Set=function(a){this._internalRepresentation.Set(a);this._2dContextRepresentation.Set(a);this._globalRepresentation.Set(this._internalRepresentation,this._2dContextRepresentation,this._mvMatrix)};return b}})(window);(function(){ArmContext.Image2dContextRepresentation=function(c){gizmo.Filter(c,"Object");var b=ArmContext.C2dContextRepresentation(c);b._fillObject="#ff0000";b._strokeObject="#000000";b._lineWidth=10;b._src=null;b._image=null;b._isLoaded=!1;b.GetFillObject=function(){return this._fillObject};b.GetStrokeObject=function(){return this._strokeObject};b.GetLineWidth=function(){return this._lineWidth};b.GetImage=function(){return this._image};b.IsLoaded=function(){return this._isLoaded};b.Load=function(a){gizmo.Filter(a,
"String");this._image=new Image;this._image.src=a;var b=this;this._image.onload=function(){b.SetLoaded()};return this};b.SetLoaded=function(){this._isLoaded=!0;console.log("Loaded")};b.Set=function(a){this._fillObject=a.fillObject||this._fillObject;this._strokeObject=a.strokeObject||this._strokeObject;this._lineWidth=a.lineWidth||this._lineWidth;this._src=a.src||this._src;this._image=a.image||this._image};b.Set(c);b.Load(b._src);return b}})();(function(){ArmContext.ImageGlobalRepresentation=function(){var c=ArmContext.GlobalRepresentation();c.GetX=function(){return this.GetPoints()[0][0]};c.GetY=function(){return this.GetPoints()[0][1]};c.GetWidth=function(){this.GetPoints();return points[2][0]-points[0][0]};c.GetHeight=function(){this.GetPoints();return points[2][1]-points[0][1]};c.ShowPoints=function(){var b=this.GetPoints();CTX.save();CTX.beginPath();CTX.fillStyle="#ff0000";CTX.rect(b[0][0]-2,b[0][1]-2,4,4);CTX.stroke();CTX.fill();
CTX.closePath();CTX.restore();CTX.save();CTX.beginPath();CTX.fillStyle="#00ff00";CTX.rect(b[1][0]-2,b[1][1]-2,4,4);CTX.stroke();CTX.fill();CTX.closePath();CTX.restore();CTX.save();CTX.beginPath();CTX.fillStyle="#0000ff";CTX.rect(b[2][0]-2,b[2][1]-2,4,4);CTX.stroke();CTX.fill();CTX.closePath();CTX.restore();CTX.save();CTX.beginPath();CTX.fillStyle="#aaffbb";CTX.rect(b[3][0]-2,b[3][1]-2,4,4);CTX.stroke();CTX.fill();CTX.closePath();CTX.restore()};return c}})();(function(){ArmContext.ImageInternalRepresentation=function(c){gizmo.Filter(c,"Object");var b=new ArmContext.InternalRepresentation({});b.GetWidth=function(){return this._width};b.SetWidth=function(a){gizmo.Filter(a,"Number");this.Update({width:a,height:this.GetHeight()})};b.GetHeight=function(){return this._height};b.SetHeight=function(a){gizmo.Filter(a,"Number");this.UpdatePoints({x:this.GetX(),y:this.GetY(),width:this.GetWidth(),height:a})};b.GetPointsOfMatrix=function(){return this._points};b.SetPointsOfMatrix=
function(a){gizmo.Filter(a,"Array");return this._points};b.Set=function(a){this._width=a.width||this._width;this._height=a.height||this._height;this._points=new $M([[0,0,1],[this._width,0,1],[this._width,this._height,1],[0,this._height,1]])};b.Set({width:c.width||10,height:c.height||10});return b}})();(function(c){c.ArmContext.Image=function(b){gizmo.Filter(b,"Object");var a=ArmContext.Primitie();a._internalRepresentation=ArmContext.ImageInternalRepresentation(b);a._2dContextRepresentation=ArmContext.Image2dContextRepresentation(b);a._globalRepresentation=ArmContext.ImageGlobalRepresentation(a._internalRepresentation,a._2dContextRepresentation,a._mvMatrix);a.Draw=function(){var a=this._2dContextRepresentation,b=this._internalRepresentation,c=a._ctx;c.save();params=this._mvMatrix.GetTransformParams();
c.setTransform(params.a,params.b,params.c,params.d,params.e,params.f);c.drawImage(a.GetImage(),0,0,b.GetWidth(),b.GetHeight());c.restore()};return a}})(window);(function(){ArmContext.Rect2dContextRepresentation=function(c){gizmo.Filter(c,"Object");var b=ArmContext.C2dContextRepresentation(c);b._fillObject="#ff0000";b._strokeObject="#000000";b._lineWidth=1;b.GetFillObject=function(){return this._fillObject};b.GetStrokeObject=function(){return this._strokeObject};b.GetLineWidth=function(){return this._lineWidth};b.Set=function(a){b._fillObject=a.fillObject||b._fillObject;b._strokeObject=a.strokeObject||b._strokeObject;b._lineWidth=a.lineWidth||b._lineWidth};
b.Set(c);return b}})();(function(){ArmContext.RectGlobalRepresentation=function(c,b,a){var g=ArmContext.GlobalRepresentation();g.GetX=function(){return this.GetPoints()[0][0]};g.GetY=function(){return this.GetPoints()[0][1]};g.GetWidth=function(){this.GetPoints();return points[2][0]-points[0][0]};g.GetHeight=function(){this.GetPoints();return points[2][1]-points[0][1]};g.ShowPoints=function(){var a=this.GetPoints();CTX.save();CTX.beginPath();CTX.fillStyle="#ff0000";CTX.rect(a[0][0]-2,a[0][1]-2,4,4);CTX.stroke();CTX.fill();
CTX.closePath();CTX.restore();CTX.save();CTX.beginPath();CTX.fillStyle="#00ff00";CTX.rect(a[1][0]-2,a[1][1]-2,4,4);CTX.stroke();CTX.fill();CTX.closePath();CTX.restore();CTX.save();CTX.beginPath();CTX.fillStyle="#0000ff";CTX.rect(a[2][0]-2,a[2][1]-2,4,4);CTX.stroke();CTX.fill();CTX.closePath();CTX.restore();CTX.save();CTX.beginPath();CTX.fillStyle="#aaffbb";CTX.rect(a[3][0]-2,a[3][1]-2,4,4);CTX.stroke();CTX.fill();CTX.closePath();CTX.restore()};g.Set(c,b,a);return g}})();(function(){ArmContext.RectInternalRepresentation=function(c){gizmo.Filter(c,"Object");var b=new ArmContext.InternalRepresentation({});b.GetWidth=function(){return this._width};b.SetWidth=function(a){gizmo.Filter(a,"Number");this.Update({width:a,height:this.GetHeight()})};b.GetHeight=function(){return this._height};b.SetHeight=function(a){gizmo.Filter(a,"Number");this.UpdatePoints({x:this.GetX(),y:this.GetY(),width:this.GetWidth(),height:a})};b.GetPointsOfMatrix=function(){return this._points};b.SetPointsOfMatrix=
function(a){gizmo.Filter(a,"Array");return this._points};b.Set=function(a){this._width=a.width||this._width;this._height=a.height||this._height;this._points=new $M([[0,0,1],[this._width,0,1],[this._width,this._height,1],[0,this._height,1]])};b.Set({width:c.width||10,height:c.height||10});return b}})();(function(c){c.ArmContext.Rect=function(b){gizmo.Filter(b,"Object");var a=ArmContext.Primitie();a._internalRepresentation=ArmContext.RectInternalRepresentation(b);a._2dContextRepresentation=ArmContext.Rect2dContextRepresentation(b);a._globalRepresentation=ArmContext.RectGlobalRepresentation(a._internalRepresentation,a._2dContextRepresentation,a._mvMatrix);a.Draw=function(){var a=this._2dContextRepresentation,b=this._internalRepresentation,c=a.GetCtx();c.save();c.beginPath();params=this._mvMatrix.GetTransformParams();
c.setTransform(params.a,params.b,params.c,params.d,params.e,params.f);c.rect(0,0,b.GetWidth(),b.GetHeight());c.closePath();c.fillStyle=a.GetFillObject();c.strokeStyle=a.GetStrokeObject();c.lineWidth=a.GetLineWidth();c.globalAlpha=a.GetGlobalAlpha();c.shadowColor=a.GetShadowColor();c.shadowOffsetX=a.GetShadowOffsetX();c.shadowOffsetY=a.GetShadowOffsetY();c.stroke();c.fill();c.restore()};return a}})(window);(function(c){c.ArmContext.Layer=function(b){gizmo.Filter(b,"Object");var a={GetDefaultName:function(){return this._defaultName},SetCtx:function(a){gizmo.Filter(a,"CanvasRenderingContext2D");this._ctx=a},GetCtx:function(){return this._ctx},SetContainerElement:function(a){this._containerElement=a},SetCanvasElement:function(a){gizmo.Filter(a,"HTMLCanvasElement");this._canvasElement=a},SetName:function(){gizmo.Filter(b,"Object");this._canvasElemetName=b},Set:function(a){this.Init(a.container||this._containerElementName,
a.name||this._canvasElemetName,a.width||this._width,a.height||this._height,a.left||this._left,a.top||this._top)},Init:function(a,b,c,d){var a=null==a?document.getElementsByTagName("body")[0]:document.getElementById(a),g=document.createElement("canvas");g.width=c;g.height=d;g.id=b;g.style.position="absolute";a.appendChild(g);c=g.getContext("2d");this.SetName(b);this.SetContainerElement(a);this.SetCanvasElement(g);this.SetCtx(c)},_defaultName:"Layer",_ctx:null},c=a.GetDefaultName()+ArmContext.GetNewUnicalNumber();
null==document.getElementById(c)&&(a._canvasElemetName=c);a._canvasElement=null;a._containerElement=null;a._width=500;a._height=500;a._left=0;a._top=0;a.Set(b);return a}})(window);
